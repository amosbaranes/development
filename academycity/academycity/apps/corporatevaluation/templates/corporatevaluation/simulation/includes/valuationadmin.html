{% load static i18n cms_tags menu_tags sekizai_tags thumbnail %}

<div id="valuationadmin" class="tabcontent">
    <button onclick="admin_setup(event)" fun="set_sic_code">Load SIC Codes from SEC</button>
    <br/>
    <a href="https://en.wikipedia.org/wiki/Standard_Industrial_Classification" targte="_blank">
        https://en.wikipedia.org/wiki/Standard_Industrial_Classificatio
    </a>
    <br/>
    <a href="https://www.sec.gov/corpfin/division-of-corporation-finance-standard-industrial-classification-sic-code-list" targte="_blank">
        https://www.sec.gov/corpfin/division-of-corporation-finance-standard-industrial-classification-sic-code-list
    </a>
    <br/>
    <hr/>
    <button onclick="admin_setup(event)" fun="get_all_companies">Get All Companies</button>
    <br/>
    <a href="https://www.advfn.com/nyse/newyorkstockexchange.asp?companies=A" targte="_blank">
        Using the link: https://www.advfn.com/nyse/newyorkstockexchange.asp?companies=A    with all letters A-Z
    </a>
    <br/>
    <hr/>
    <button onclick="admin_setup(event)" fun="clean_data_for_all_companies">Clean data for all companies</button>
    <br/>
    <hr/>
    <button onclick="admin_setup(event)" fun="copy_processed_companies">Copy processed companies</button><br/>
    Copy data from the processing table to the company table
    <br/>
    <hr/>
    <button onclick="admin_setup(event)" fun="get_duplications_tickers">get_duplications_tickers</button><br/>
    Remove duplicate companies that trade in more than one exchange.
    <br/>
    <hr/>
    <button onclick="balance_accounts()" >balance_accounts()</button>


<!--
    <button onclick="xbrl_set_data()" >Create data Table</button>
    <br/>
    <br/>

    <button onclick="generate_select_accounts('2020', 'AAPL')" >generate_select_accounts - 2020</button>
    -->
    <br/>
    <br/>
    <div id="result_message"></div>

</div>

<script>

function admin_setup(event)
{
 e = event.target
 fun_ = e.getAttribute("fun")
 var ss = prompt("are you sure you want to run function: " + fun_ + "\nType Yes to run", 'No')
 if(ss == '' || ss == 'No')
 { return;}

 message_div = document.getElementById("result_message")
 message_div.innerHTML = 'In process .. '
 $.post('{% url "corporatevaluation:admin_setup" %}',
      {
        fun: fun_,
      },
      function(data){
        message_div.innerHTML = 'Process done with status: ' + data['status']
      }
    );
}
</script>